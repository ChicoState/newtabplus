(()=>{"use strict";var e,t,n,s,l={887:function(e,t,n){var s,l=n(848),a=n(540),i=n(338);let r=(0,a.createContext)({isDragging:!1,activeItem:null,dragStart:{x:0,y:0}});function o(e){let{enabled:t=!0,onDrag:n=()=>{},onDragRelative:s=()=>{},children:i}=e,o=(0,a.useContext)(r),c=(0,a.useRef)(null),[d,u]=(0,a.useState)({x:0,y:0});function m(e){o.isDragging&&o.activeItem===c.current&&(e.preventDefault(),o.isDragging=!1,o.activeItem=null,n(d.x,d.y,!1),s(0,0,!1))}function h(e){o.isDragging&&o.activeItem===c.current&&(e.preventDefault(),u({x:d.x+e.movementX,y:d.y+e.movementY}),n(d.x,d.y,!0),s(d.x-o.dragStart.x,d.y-o.dragStart.y,!0))}return(0,a.useEffect)(()=>(document.addEventListener("mousemove",h),document.addEventListener("mouseleave",m),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseleave",m),document.removeEventListener("mouseup",m)})),(0,l.jsx)("div",{ref:c,style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:t?"grab":"auto"},onMouseDown:function(e){if(!t||o.isDragging)return;e.preventDefault(),o.isDragging=!0,o.activeItem=c.current;let l=c.current.getBoundingClientRect();o.dragStart={x:l.left,y:l.top},u({x:l.left,y:l.top}),n(l.left,l.top,!0),s(0,0,!0)},children:i})}let c="resize-sP66u6",d=(0,a.createContext)(null);function u(e){let{id:t,initialSize:n,initialPosition:s,resizeable:i,children:r}=e,u=(0,a.useRef)(null),m=(0,a.useContext)(d),{widgets:h,removeWidget:g,editing:p,deleting:x}=(0,a.useContext)(em),j=h.find(e=>e.id===t),[v,f]=(0,a.useState)(s),[S,N]=(0,a.useState)(n),[b,w]=(0,a.useState)(!1),[y,k]=(0,a.useState)(!1),[C,M]=(0,a.useState)(v),[z,I]=(0,a.useState)(S),[D,E]=(0,a.useState)(!0);function _(e,t){return e-=m.grid.offsetLeft,t-=m.grid.offsetTop,[Math.round(e/m.cellSize),Math.round(t/m.cellSize)]}function A(e,t,n){if(x)return;let[s,l]=_(e,t);f({gridX:s=Math.min(m.width-S.width,Math.max(0,s)),gridY:l=Math.min(m.height-S.height,Math.max(0,l))}),w(n),D?M(v):!n&&b&&f(C)}return(0,a.useEffect)(()=>{N(n),f(s)},[n,s]),(0,a.useEffect)(()=>{let e;return m.items.set(u.current,j),e=!0,m.items.forEach((t,n)=>{n===u.current||v.gridX<t.position.gridX+t.size.width&&v.gridX+S.width>t.position.gridX&&v.gridY<t.position.gridY+t.size.height&&v.gridY+S.height>t.position.gridY&&(e=!1)}),E(e),j.size=S,j.position=v,()=>{m.items.delete(u.current)}},[S,v,u.current]),(0,l.jsxs)("div",{id:t,className:["grid-item-DIqRLu",b?"dragging-pAnUxK":"",y?"resizing-YNQQun":"",p?"editing-EGJfH6":"",x?"deleting-qVtTjn":"",!D?"invalid-sP3Ohl":""].join(" "),style:{left:v.gridX*m.cellSize,top:v.gridY*m.cellSize,width:S.width*m.cellSize,height:S.height*m.cellSize},ref:u,onClick:()=>{p&&x&&g(t)},children:[(0,l.jsx)(o,{enabled:p,onDrag:A,children:r}),p&&!x&&i.x&&(0,l.jsx)("div",{className:[c,"resize-left-JXZHng"].join(" "),children:(0,l.jsx)(o,{onDrag:function(e,t,n){A(e-=m.cellSize/2,v.gridY*m.cellSize+m.grid.offsetTop,n)}})}),p&&!x&&i.x&&(0,l.jsx)("div",{className:[c,"resize-right-fblfQq"].join(" "),children:(0,l.jsx)(o,{onDrag:function(e,t,n){let[s,l]=_(e+=m.cellSize/2,t);k(n),N({width:Math.min(m.width-v.gridX,Math.max(1,s-v.gridX)),height:S.height}),D?I(S):!n&&y&&N(z)}})}),p&&!x&&i.y&&(0,l.jsx)("div",{className:[c,"resize-up-OHWr9N"].join(" "),children:(0,l.jsx)(o,{onDrag:function(e,t,n){t-=m.cellSize/2,A(v.gridX*m.cellSize,t,n)}})}),p&&!x&&i.y&&(0,l.jsx)("div",{className:[c,"resize-down-otUzu1"].join(" "),children:(0,l.jsx)(o,{onDrag:function(e,t,n){let[s,l]=_(e,t+=m.cellSize/2);k(n),N({width:S.width,height:Math.min(m.height-v.gridY,Math.max(1,l-v.gridY))}),D?I(S):!n&&y&&N(z)}})})]})}function m(e){let{index:t}=e;return(0,l.jsx)("div",{className:"grid-slot-YT0mqh",children:(0,l.jsx)("div",{className:"grid-slot-inner-v5Yha6",style:{animationDelay:10*t+"ms"}})})}function h(e){let{width:t=16,height:n=8,children:s,ref:i}=e,[r,o]=(0,a.useState)(0),{editing:c,deleting:u,hidden:h}=(0,a.useContext)(em);(0,a.useEffect)(()=>{if(i.current)return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)};function e(){o(i.current.offsetWidth/t)}},[t,n]);let g=(0,a.useMemo)(()=>{let e=[];for(let s=0;s<n;s++)for(let n=0;n<t;n++)e.push((0,l.jsx)(m,{index:n+s},n+s*t));return e},[t,n]);return(0,l.jsxs)("div",{className:["grid-WM8EIZ",h?"hidden-YtcBLv":""].join(" "),ref:i,children:[c&&(0,l.jsx)("div",{className:"grid-slots-ipk_6U",style:{gridTemplateColumns:`repeat(${t}, 1fr)`,gridTemplateRows:`repeat(${n}, 1fr)`},children:g}),(0,l.jsx)("div",{className:"grid-items-qDMX9i",children:(0,l.jsx)(d.Provider,{value:{grid:i.current,width:t,height:n,cellSize:r,items:new Map},children:s})})]})}let g=(0,a.createContext)(null);function p(e){let{id:t,size:n={width:6,height:4},position:s={gridX:0,gridY:0},resizeable:a={x:!0,y:!0},children:i}=e;return n.width=Math.max(1,n.width),n.height=Math.max(1,n.height),(0,l.jsx)(g.Provider,{value:{size:n},children:(0,l.jsx)("div",{className:"widget-dm82oq",children:(0,l.jsx)(u,{id:t,resizeable:a,initialSize:n,initialPosition:s,children:i})})})}let x={row:"row-klab4p",value:"value-wd_hjG",icon:"icon-kjEis8",body:"body-CYD7JF",cap:"cap-YDSfz2",level:"level-JDlVSa",ok:"ok-_boTsQ",low:"low-QIQMwq",neutral:"neutral-T621kA"},j="content-JycvDH",v="container-RGIkaK",f="button-dgISIK",S="row-jbXmzI",N="selector-button-khFEmW";var b=n(142),w=n(320),y=n(108),k=n(607),C=n(179),M=n(123);let z="icon-h39TMg";var I=n(690),D=n(133),E=n(274),_=n(649),A=n(668);let T="day-ZiencA",P={battery:{component:function(){let[e,t]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e;return(async()=>{let n=navigator;if(!n.getBattery)return;let s=await n.getBattery(),l=()=>{t(Math.round(100*("number"==typeof s.level?s.level:0)))};l(),s.addEventListener("levelchange",l),e=()=>{s.removeEventListener("levelchange",l)}})(),()=>null==e?void 0:e()},[]);let n=Math.round((null==e?0:Math.max(0,Math.min(100,e)))/100*40);return(0,l.jsxs)("div",{className:`${x.row} ${x[null==e?"neutral":e<=20?"low":"ok"]}`,children:[(0,l.jsx)("span",{className:x.value,children:null!=e?`${e}%`:"â€”%"}),(0,l.jsxs)("svg",{className:x.icon,viewBox:"0 0 52 24","aria-hidden":"true",children:[(0,l.jsx)("rect",{x:"1",y:"3",width:"44",height:"18",rx:"5",className:x.body}),(0,l.jsx)("rect",{x:"46",y:"8",width:"5",height:"8",rx:"2",className:x.cap}),(0,l.jsx)("rect",{x:"3",y:"5",width:n,height:"14",rx:"4",className:x.level})]})]})},size:{width:2,height:1}},calendar:{component:function(e){let{settings:t}=e,[n,s]=(0,a.useState)(()=>{let e=localStorage.getItem("calendar-date");return e?new Date(JSON.parse(e)):new Date}),i=new Date(n.getFullYear(),n.getMonth(),1).getDay();(0,a.useEffect)(()=>{localStorage.setItem("calendar-date",JSON.stringify(n.toISOString()))},[n]);let r=[];for(let e=-i;e<42-i;e++)r.push(new Date(n.getFullYear(),n.getMonth(),e+1));return(0,l.jsxs)("div",{className:[v,"body-h984Pc"].join(" "),children:[(0,l.jsx)("div",{className:"header-Zciy5B",children:(0,l.jsxs)("div",{className:"selector-mhYLzE",children:[(0,l.jsx)("button",{className:N,onClick:()=>{let e=new Date(n);e.setMonth(e.getMonth()-1),s(e)},children:(0,l.jsx)(b.e,{size:16,weight:"bold"})}),(0,l.jsx)("span",{children:n.toLocaleDateString(void 0,{month:"long",year:"numeric"})}),(0,l.jsx)("button",{className:N,onClick:()=>{let e=new Date(n);e.setMonth(e.getMonth()+1),s(e)},children:(0,l.jsx)(w.J,{size:16,weight:"bold"})})]})}),(0,l.jsxs)("div",{className:"day-names-QwBmLw",children:[(0,l.jsx)("span",{children:"Sun"}),(0,l.jsx)("span",{children:"Mon"}),(0,l.jsx)("span",{children:"Tue"}),(0,l.jsx)("span",{children:"Wed"}),(0,l.jsx)("span",{children:"Thu"}),(0,l.jsx)("span",{children:"Fri"}),(0,l.jsx)("span",{children:"Sat"})]}),(0,l.jsx)("div",{className:"month-UJAzpQ",children:r.map((e,t)=>{let s=e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth(),a=new Date,i=e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth()&&e.getDate()===a.getDate();return(0,l.jsx)("div",{className:["day-UZKXgY",s?"active-yJCQFf":"",i?"today-ASEa6P":""].join(" "),children:(0,l.jsx)("span",{children:e.getDate()})},t)})})]})},size:{width:6,height:6}},clock:{component:function(e){let{settings:t}=e,[n,s]=(0,a.useState)(new Date);return(0,a.useEffect)(()=>{let e=setInterval(()=>{s(new Date)},1e3);return()=>{clearInterval(e)}},[]),(0,l.jsxs)("div",{className:"body-ImaAM0",children:[(0,l.jsx)("span",{className:"clock-bSifJc",children:(t.use24HourClock?n.getHours():n.getHours()%12||12)+":"+n.getMinutes().toString().padStart(2,"0")+(!t.use24HourClock&&t.showAMPM?n.getHours()>11?" PM":" AM":"")}),t.showDate&&(0,l.jsx)("span",{className:"date-hVjd2f",children:n.toLocaleDateString(void 0,{weekday:"long",year:t.showYear?"numeric":void 0,month:"long",day:"numeric"})})]})},size:{width:4,height:2},settings:{use24HourClock:!1,showAMPM:!1,showDate:!0,showYear:!0}},notepad:{component:function(){let[e,t]=(0,a.useState)(()=>{let e=localStorage.getItem("multi-notes");return e?JSON.parse(e):[{id:"1",title:"Note 1",content:"",pinned:!1}]}),[n,s]=(0,a.useState)(()=>{let e=localStorage.getItem("multi-notes");if(e){let t=JSON.parse(e);return t.length>0?t[0].id:"1"}return"1"}),[i,r]=(0,a.useState)(null),[o,c]=(0,a.useState)("");(0,a.useEffect)(()=>{localStorage.setItem("multi-notes",JSON.stringify(e))},[e]);let d=function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=Date.now().toString(),a=n||0===e.length?1:e.length+1,i={id:l,title:`Note ${a}`,content:"",pinned:!1};t(e=>[...e,i]),s(l)},u=()=>{var e;i&&(e=o.trim()||"Untitled",t(t=>t.map(t=>t.id===i?{...t,title:e}:t))),r(null),c("")},m=e.find(e=>e.id===n);return(0,l.jsxs)("div",{className:[v,"body-SIlAmQ"].join(" "),children:[(0,l.jsxs)("div",{className:"tabs-i4G1rw",children:[e.map(a=>(0,l.jsxs)("div",{className:`tab-_n6B15 ${a.id===n?"activeTab-k3RBDo":""}`,onClick:()=>s(a.id),children:[i===a.id?(0,l.jsx)("input",{className:"renameInput-UfqdNR",value:o,autoFocus:!0,onChange:e=>c(e.target.value),onBlur:u,onKeyDown:e=>"Enter"===e.key&&u()}):(0,l.jsx)("span",{onDoubleClick:()=>{var e,t;return e=a.id,t=a.title,void(r(e),c(t))},title:"Double-click to rename",children:a.title}),(0,l.jsx)("button",{className:"closeBtn-xAAeI0",onClick:n=>{var l;let i;n.stopPropagation(),l=a.id,t(i=e.filter(e=>e.id!==l)),i.length>0?s(i[0].id):d(!0)},children:"\xd7"})]},a.id)),(0,l.jsx)("button",{className:"addBtn-ica193",onClick:()=>d(),children:"+"})]}),m&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h3",{className:"title-dpmjQK",children:[m.title,(0,l.jsx)("button",{className:"pinBtn-Gt2fze",onClick:e=>{var n;e.stopPropagation(),n=m.id,t(e=>e.map(e=>e.id===n?{...e,pinned:!e.pinned}:e).sort((e,t)=>!!t.pinned-!!e.pinned))},title:m.pinned?"Unpin note":"Pin note",children:(0,l.jsx)(y.t,{size:16,weight:m.pinned?"fill":"regular",color:m.pinned?"#ffd700":"#fff9"})})]}),(0,l.jsx)("textarea",{className:[v,"textarea-kveST1"].join(" "),value:m.content,onChange:e=>{var n,s;return n=m.id,s=e.target.value,void t(e=>e.map(e=>e.id===n?{...e,content:s}:e))},placeholder:"Type your notes here..."})]})]})},size:{width:4,height:4}},search:{component:function(e){let{settings:t}=e;return(0,l.jsx)("form",{method:"get",action:"https://www.google.com/search",className:"body-RUbHHD",children:(0,l.jsxs)("div",{className:[v,"bar-gYdz0A"].join(" "),children:[t.showIcon&&(0,l.jsx)(k.$,{size:18,weight:"bold"}),(0,l.jsx)("input",{className:"search-input-U2kfmT",type:"text",name:"q",placeholder:"Search for something"}),t.showButton&&(0,l.jsx)("button",{className:[v,"search-button-Wi8SrY"].join(" "),type:"submit",children:(0,l.jsx)(C.f,{size:18,weight:"bold"})})]})})},resizable:{x:!0,y:!1},size:{width:8,height:1},settings:{showIcon:!0,showButton:!0}},shortcut:{component:function(e){let{settings:t}=e,[n,s]=(0,a.useState)(!1);return(0,l.jsxs)("a",{className:[v,"shortcut-RMqJf8"].join(" "),href:t.website,title:t.website,target:t.openInNewTab?"_blank":"_self",children:[!n&&(0,l.jsx)(M.q,{className:z,weight:"bold"}),(0,l.jsx)("img",{className:z,src:t.website+"/favicon.ico",style:{display:n?"initial":"none"},onLoad:()=>{s(!0)}})]})},resizable:{x:!1,y:!1},size:{width:1,height:1},settings:{website:"",openInNewTab:!1}},todo:{component:function(){let[e,t]=(0,a.useState)(()=>{let e=localStorage.getItem("todo-tasks");return e?JSON.parse(e):[]}),[n,s]=(0,a.useState)("");(0,a.useEffect)(()=>{localStorage.setItem("todo-tasks",JSON.stringify(e))},[e]);let i=()=>{n.trim()&&(t([...e,{text:n.trim(),completed:!1}]),s(""))};return(0,l.jsxs)("div",{className:[v,"body-ksV6Qt"].join(" "),children:[(0,l.jsx)("h3",{className:"title-O4Zs1V",children:"My To-Do List"}),(0,l.jsx)("ul",{className:"todo-list-A4GCM4",children:e.map((n,s)=>(0,l.jsxs)("li",{className:n.completed?"completed-mr_2Mz":"",onClick:()=>{let n;(n=[...e])[s].completed=!n[s].completed,t(n)},children:[(0,l.jsx)("span",{children:n.text}),(0,l.jsx)("button",{className:"delete-task-BHrhdy",onClick:n=>{let l;n.stopPropagation(),(l=[...e]).splice(s,1),t(l)},children:(0,l.jsx)(I.u,{weight:"bold"})})]},s))}),(0,l.jsxs)("div",{className:"todo-input-container-S_ME10",children:[(0,l.jsx)("input",{className:v,value:n,onChange:e=>s(e.target.value),placeholder:"Add a new task...",onKeyDown:e=>"Enter"===e.key&&i()}),(0,l.jsx)("button",{onClick:i,children:"Add"})]})]})},size:{width:4,height:4}},weather:{component:function(){let[e,t]=(0,a.useState)(null);return(0,a.useEffect)(()=>{navigator.geolocation.getCurrentPosition(async e=>{let n=(await (0,D.fetchWeatherApi)("https://api.open-meteo.com/v1/forecast",{latitude:e.coords.latitude,longitude:e.coords.longitude,temperature_unit:"fahrenheit",daily:["temperature_2m_min","temperature_2m_max","cloud_cover_mean"],timezone:"auto"}))[0].daily(),s=n.variables(0).valuesArray(),l=n.variables(1).valuesArray(),a=n.variables(2).valuesArray(),i=[];for(let e=0;e<l.length;e++)i.push({minTemp:s[e],maxTemp:l[e],cloudCover:a[e]});t(i)})},[]),(0,l.jsxs)("div",{className:"body-rgDqoz",children:[!e&&(0,l.jsx)("span",{style:{position:"absolute"},children:"Loading..."}),(0,l.jsxs)("div",{className:"forecast-gOK2pl",children:[!e&&Array.from(Array(7)).map((e,t)=>(0,l.jsx)("div",{className:T},t)),e&&e.map((e,t)=>{var n,s;return(0,l.jsxs)("div",{className:[v,T].join(" "),children:[(n=e.cloudCover,s={size:16,weight:"fill"},n<=25?(0,l.jsx)(E.g,{...s}):n<=62.5?(0,l.jsx)(_.X,{...s}):(0,l.jsx)(A.h,{...s})),(0,l.jsxs)("div",{className:"temp-gdI8FD",children:[(0,l.jsx)("span",{className:"temp-min-ryCgDs",children:Math.round(e.minTemp)}),(0,l.jsx)("span",{className:"temp-max-G4EVnN",children:Math.round(e.maxTemp)})]})]},t)})]})]})},size:{width:6,height:1}}};var O=n(744),L=n(811),Y=n(622),F=n(375),J=n(504),B=n(620),X=n(515);function $(){let{editing:e,deleting:t,hidden:n,setEditing:s,setDeleting:i,setHidden:r,menuOpen:o,setMenuOpen:c,saveTemplate:d,loadTemplate:u,templates:m}=(0,a.useContext)(em);return(0,l.jsxs)("div",{className:"header-kzz4la",children:[(0,l.jsx)("div",{className:S,children:m.map((e,t)=>{if(e.pinned)return(0,l.jsx)("button",{className:[v,f].join(" "),onClick:()=>{u(t)},children:e.name})})}),(0,l.jsxs)("div",{className:S,children:[!e&&(0,l.jsxs)("button",{className:[v,f].join(" "),onClick:()=>{r(!1),s(!0)},children:[(0,l.jsx)(O.Z,{weight:"bold"}),"Edit"]}),e&&(0,l.jsxs)("button",{className:[v,f].join(" "),onClick:()=>{i(!t)},children:[t?(0,l.jsx)(L.G,{weight:"bold"}):(0,l.jsx)(Y.A,{weight:"bold"}),t?"Move":"Delete"]}),e&&(0,l.jsxs)("button",{className:[v,f].join(" "),onClick:()=>{u(),s(!1),i(!1)},children:[(0,l.jsx)(I.u,{weight:"bold"}),"Cancel"]}),e&&(0,l.jsxs)("button",{className:[v,f].join(" "),onClick:()=>{d(),s(!1),i(!1)},children:[(0,l.jsx)(F.S,{weight:"bold"}),"Done"]}),(0,l.jsxs)("button",{className:[v,f].join(" "),onClick:()=>{o||i(!1),c(!o)},children:[(0,l.jsx)(J.k,{weight:"bold"}),"Settings"]}),(0,l.jsx)("button",{className:[v,f].join(" "),style:{padding:"6px"},onClick:()=>{r(!n)},children:n?(0,l.jsx)(B.V,{weight:"bold"}):(0,l.jsx)(X.b,{weight:"bold"})})]})]})}let R="active-QmuH5e",G="menu-item-wJruxh",H="item-name-VdVj5x",q="item-input-IXdD2y";function W(e){let{name:t,initialValue:n,onChange:s}=e,[i,r]=(0,a.useState)(n);return(0,a.useEffect)(()=>{s(i)},[i]),(0,l.jsxs)("div",{className:[v,G].join(" "),children:[(0,l.jsx)("span",{className:H,children:t}),(0,l.jsxs)("div",{className:q,children:["boolean"==typeof i&&(0,l.jsx)("input",{type:"checkbox",checked:i,onChange:e=>{r(e.target.checked)}}),"string"==typeof i&&(0,l.jsx)("input",{type:i.startsWith("#")?"color":"text",value:i,onChange:e=>{r(e.target.value)}}),"number"==typeof i&&(0,l.jsx)("input",{type:"number",value:i,onChange:e=>{r(e.target.valueAsNumber)}})]})]})}function Q(){let{setEditing:e,setDeleting:t,setMenuOpen:n,addWidget:s}=(0,a.useContext)(em);return(0,l.jsx)("div",{className:"widget-list-VCLE3q",children:Object.entries(P).map((a,i)=>{let[r,o]=a,c=o.component;return(0,l.jsx)("div",{className:[v,"widget-thumb-DPPgFe"].join(" "),title:et(r),style:{minHeight:32*o.size.height*2+"px"},onClick:()=>{e(!0),t(!1),n(!1),s(r)},children:(0,l.jsx)(c,{...o})},i)})})}function U(){let{editing:e,widgets:t,setWidgets:n,saveTemplate:s}=(0,a.useContext)(em);return(0,l.jsx)(l.Fragment,{children:t.map((i,r)=>{if(0!==Object.keys(i.settings).length)return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)("span",{children:i.type.replace(/^./,e=>e.toUpperCase())}),Object.entries(i.settings).map((a,r)=>{let[o,c]=a;return(0,l.jsx)(W,{name:et(o),initialValue:c,onChange:l=>{i.settings[o]=l,n([...t]),e||s()}},r)})]},r)})})}function V(){let{setTheme:e}=(0,a.useContext)(em),[t,n]=(0,a.useState)(()=>{let e=localStorage.getItem("theme_blurAmount");return null!==e?Number(e):40}),[s,i]=(0,a.useState)(()=>localStorage.getItem("theme_font")||""),[r,o]=(0,a.useState)(()=>"true"===localStorage.getItem("theme_lightMode")),[c,d]=(0,a.useState)(()=>{let e=localStorage.getItem("theme_lightMode"),t=localStorage.getItem("theme_darkMode");return"true"!==e&&"true"!==t?(localStorage.setItem("theme_darkMode","true"),localStorage.setItem("theme_lightMode","false"),!0):"true"===t});return(0,a.useEffect)(()=>{null!==localStorage.getItem("theme_blurAmount")&&document.documentElement.style.setProperty("--blur-amount",`${t}px`),s&&""!==s&&document.documentElement.style.setProperty("--app-font",s)},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"Themes"}),(0,l.jsxs)("div",{className:[v,G].join(" "),children:[(0,l.jsxs)("span",{className:H,children:["Blur (",t,"%)"]}),(0,l.jsx)("div",{className:q,children:(0,l.jsx)("input",{type:"range",min:"0",max:"100",value:t,onChange:e=>{var t;n(t=Number(e.target.value)),localStorage.setItem("theme_blurAmount",t.toString()),document.documentElement.style.setProperty("--blur-amount",`${t}px`)}})})]}),(0,l.jsxs)("div",{className:[v,G].join(" "),children:[(0,l.jsx)("span",{className:H,children:"Fonts"}),(0,l.jsx)("div",{className:q,children:(0,l.jsxs)("select",{value:s,onChange:e=>{var t;i(t=e.target.value),localStorage.setItem("theme_font",t),t&&""!==t?document.documentElement.style.setProperty("--app-font",t):document.documentElement.style.setProperty("--app-font","Arial, sans-serif")},style:{fontFamily:s||"Arial"},children:[(0,l.jsx)("option",{value:"",children:"Arial"}),["Times New Roman","Georgia","Courier New","Verdana"].map(e=>(0,l.jsx)("option",{value:e,style:{fontFamily:e},children:e},e))]})})]}),(0,l.jsxs)("div",{className:[v,G].join(" "),children:[(0,l.jsx)("span",{className:H,children:"Light Mode"}),(0,l.jsx)("div",{className:q,children:(0,l.jsx)("input",{type:"checkbox",checked:r,onChange:t=>{var n;(n=t.target.checked)||!r?n&&!r&&(o(!0),d(!1),localStorage.setItem("theme_lightMode","true"),localStorage.setItem("theme_darkMode","false"),e("light")):(o(!1),d(!0),localStorage.setItem("theme_lightMode","false"),localStorage.setItem("theme_darkMode","true"),e("dark"))}})})]}),(0,l.jsxs)("div",{className:[v,G].join(" "),children:[(0,l.jsx)("span",{className:H,children:"Dark Mode"}),(0,l.jsx)("div",{className:q,children:(0,l.jsx)("input",{type:"checkbox",checked:c,onChange:t=>{var n;(n=t.target.checked)||!c?n&&!c&&(d(!0),o(!1),localStorage.setItem("theme_darkMode","true"),localStorage.setItem("theme_lightMode","false"),e("dark")):(d(!1),o(!0),localStorage.setItem("theme_darkMode","false"),localStorage.setItem("theme_lightMode","true"),e("light"))}})})]})]})}function K(){let{templates:e,activeTemplate:t,saveTemplate:n,loadTemplate:s,setTemplates:i}=(0,a.useContext)(em),[r,o]=(0,a.useState)(null);return(0,l.jsxs)(l.Fragment,{children:[e.map((n,a)=>{let c=a===t,d=a===r;return(0,l.jsxs)("div",{className:[v,"template-item-E0ecDD",c?R:""].join(" "),onClick:()=>{console.log(`Loading template ${n.name}`),s(a)},children:[(0,l.jsxs)("div",{className:[d?v:"","template-header-EkTosM"].join(" "),children:[(0,l.jsx)("span",{className:H,children:n.name||"Untitled"}),(0,l.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,l.jsx)("button",{className:[v,f].join(" "),onClick:e=>{e.stopPropagation(),d?o(null):o(a)},children:(0,l.jsx)(X.b,{size:14,weight:"bold"})}),(0,l.jsx)("button",{className:[v,f].join(" "),onClick:t=>{t.stopPropagation(),n.pinned=!n.pinned,i(structuredClone(e))},children:n.pinned?(0,l.jsx)(y.t,{size:14,weight:"fill"}):(0,l.jsx)(y.t,{size:14,weight:"bold"})})]})]}),d&&(0,l.jsx)("img",{src:n.image,style:{zoom:.5}})]},a)}),(0,l.jsx)("button",{className:[v,f,"save-button-qxCCTR"].join(" "),onClick:()=>{n("New Template")},children:"Save Template"})]})}var Z=((s=Z||{})[s.Widget=0]="Widget",s[s.Add=1]="Add",s[s.General=2]="General",s[s.Theme=3]="Theme",s[s.Templates=4]="Templates",s);function ee(e){let{active:t}=e;(0,a.useContext)(em);let[n,s]=(0,a.useState)(0);return(0,l.jsxs)("div",{className:[v,"menu-pgRRus",t?R:""].join(" "),children:[(0,l.jsx)("div",{className:[v,"header-dN2mY7"].join(" "),children:Object.entries(Z).filter(e=>{let[t,n]=e;return isNaN(Number(t))}).map((e,t)=>{let[a,i]=e;return(0,l.jsx)("button",{className:["header-tab-wZUMs_",n===i?R:""].join(" "),onClick:()=>s(i),children:a},t)})}),0===n&&(0,l.jsx)(U,{}),1===n&&t&&(0,l.jsx)(Q,{}),3===n&&(0,l.jsx)(V,{}),4===n&&(0,l.jsx)(K,{}),![0,1,3,4].includes(n)&&(0,l.jsx)("span",{children:"No Settings Available"})]})}function et(e){return e.replace(/([A-Z])/g,e=>` ${e}`).replace(/([A-Za-z])(?=\d)/g,"$1 ").replace(/^./,e=>e.toUpperCase()).trim()}var en=n(562),es=n(146),el=n(488);let ea="side-_2mwu4",ei="navButton-KzuYJh",er="actionButton-BFTkP6",eo="iconWrapper-x5NEzE",ec="modeLabel-oh4wYm",ed="selectedSide-X5uYjP",eu=function(e){let{onContinue:t}=e,n=["Blur","Fonts","Light/Dark mode"],s=["Times New Roman","Georgia","Courier New","Verdana"],[i,r]=a.useState(0),o=n.length,c=(i-1+o)%o,d=(i+1)%o,[u,m]=(0,a.useState)(new Set),[h,g]=(0,a.useState)(new Map),[p,x]=(0,a.useState)(""),[v,f]=(0,a.useState)(50),[S,N]=(0,a.useState)(!1),y=(e,t)=>{g(n=>{let s=new Map(n);return s.get(e)===t?(s.delete(e),m(t=>{let n=new Set(t);return n.delete(e),n}),localStorage.setItem("theme_lightMode","false"),localStorage.setItem("theme_darkMode","false")):(s.set(e,t),m(t=>new Set(t).add(e)),"light"===t?(localStorage.setItem("theme_lightMode","true"),localStorage.setItem("theme_darkMode","false")):(localStorage.setItem("theme_darkMode","true"),localStorage.setItem("theme_lightMode","false"))),s})},k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return["themeOptions-JD4JMD",t,"Blur"===n[e]?"blurTileBg-E3z0XM":"","Fonts"===n[e]?"fontsTile-Zp_Caa":"","Light/Dark mode"===n[e]?"lightDarkSplit-axLjLe":"",u.has(e)&&"Blur"===n[e]?"selected-V6IemG":"","Light/Dark mode"===n[e]&&h.has(e)?"lightDarkSelected-CMFIXE":"","Fonts"===n[e]&&p?"fontSelected-AFDNGi":""].join(" ").trim()},C=e=>{if("Blur"===n[e])return(0,l.jsxs)("div",{className:"blurContainer-nJfmg1",children:[(0,l.jsxs)("div",{className:"blurLabel-IhTDzg",children:["Blur Amount: ",v,"%"]}),(0,l.jsx)("input",{type:"range",min:"0",max:"100",value:v,className:"blurSlider-yAx6m5",onChange:t=>{t.stopPropagation();let n=Number(t.target.value);f(n),50!==n?m(t=>new Set(t).add(e)):m(t=>{let n=new Set(t);return n.delete(e),n})},onClick:e=>e.stopPropagation()})]});if("Fonts"===n[e])return(0,l.jsxs)("div",{className:"fontsContainer-DgN56S",children:[(0,l.jsx)("div",{className:"fontsLabel-irw6iL",children:"Select Font:"}),(0,l.jsxs)("select",{className:"fontDropdown-DQf9xT",value:p,onChange:t=>{t.stopPropagation(),t.target.value&&((e,t)=>{if(p===t)x(""),m(t=>{let n=new Set(t);return n.delete(e),n}),localStorage.setItem("theme_font",""),document.documentElement.style.setProperty("--app-font","Arial, sans-serif");else{x(t),m(t=>new Set(t).add(e));let n="Arial"===t?"":t;localStorage.setItem("theme_font",n),n?document.documentElement.style.setProperty("--app-font",t):document.documentElement.style.setProperty("--app-font","Arial, sans-serif")}})(e,t.target.value)},onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Arial"}),(0,l.jsx)("option",{value:"Arial",children:"Arial"}),s.map(e=>(0,l.jsx)("option",{value:e,style:{fontFamily:e},children:e},e))]})]});if("Light/Dark mode"===n[e]){let t;return t=h.get(e),(0,l.jsxs)("div",{className:"splitContainer-sKaqzJ",children:[(0,l.jsxs)("div",{className:`lightSide-NKJ1LA ${"light"===t?ed:""}`,onClick:t=>{t.stopPropagation(),y(e,"light")},children:[(0,l.jsx)("div",{className:eo,children:(0,l.jsx)(E.b,{weight:"fill"})}),(0,l.jsx)("div",{className:ec,children:"Light mode"})]}),(0,l.jsxs)("div",{className:`darkSide-U9PS2m ${"dark"===t?ed:""}`,onClick:t=>{t.stopPropagation(),y(e,"dark")},children:[(0,l.jsx)("div",{className:eo,children:(0,l.jsx)(el.A,{weight:"fill"})}),(0,l.jsx)("div",{className:ec,children:"Dark mode"})]})]})}return n[e]};return(0,l.jsxs)("div",{className:j,children:[(0,l.jsx)("p",{className:"welcome-eGlvLM",children:"Welcome"}),(0,l.jsx)("p",{className:"chooseTheme-ukIKG_",children:"Select your home theme"}),(0,l.jsxs)("div",{className:"optionsRow-gun256",children:[(0,l.jsxs)("button",{className:`${ei} navPrev-O9qE6w`,"aria-label":"Previous theme",onClick:()=>r(c),children:[(0,l.jsx)(b.e,{weight:"bold",size:20})," "]}),(0,l.jsx)("button",{className:k(c,ea),onClick:()=>{},"aria-pressed":u.has(c),children:C(c)}),(0,l.jsx)("button",{className:k(i),onClick:()=>{},"aria-pressed":u.has(i),children:C(i)}),(0,l.jsx)("button",{className:k(d,ea),onClick:()=>{},"aria-pressed":u.has(d),children:C(d)}),(0,l.jsx)("button",{className:`${ei} navNext-DFg6vO`,"aria-label":"Next theme",onClick:()=>r(d),children:(0,l.jsx)(w.J,{weight:"bold",size:20})})]}),(0,l.jsx)("div",{className:"progressDots-kK4rnV",children:n.map((e,t)=>(0,l.jsx)("div",{className:`dot-cXwBhX ${t===i?"dotActive-GA4M7H":""}`},t))}),S&&(0,l.jsx)("div",{className:"errorMessage-fzsW91",children:"Please select at least one theme"}),(0,l.jsxs)("div",{className:"bottomRow-mXXQog",children:[(0,l.jsx)("button",{className:er,onClick:()=>{if(0===u.size)N(!0),setTimeout(()=>N(!1),3e3);else{let e=n.indexOf("Blur");u.has(e)&&localStorage.setItem("theme_blurAmount",v.toString()),t()}},children:"Continue"}),(0,l.jsx)("button",{className:er,onClick:t,children:"Skip"})]})]})},em=(0,a.createContext)(null),eh=[{id:(0,en.Ak)(6),type:"clock",size:{...P.clock.size},position:{gridX:10,gridY:1},settings:{...P.clock.settings}},{id:(0,en.Ak)(6),type:"search",size:{...P.search.size},position:{gridX:8,gridY:3},settings:{...P.search.settings}}];i.createRoot(document.getElementById("root")).render((0,l.jsxs)(a.StrictMode,{children:[(0,l.jsx)("title",{children:"New Tab"}),(0,l.jsx)("meta",{name:"darkreader-lock"}),(0,l.jsx)(()=>{let[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)(!1),[i,r]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)([]),[m,g]=(0,a.useState)([]),[x,v]=(0,a.useState)(0),[f,S]=(0,a.useState)(()=>"true"!==localStorage.getItem("theme_setup_completed")),[N,b]=(0,a.useState)("dark"),w=(0,a.useRef)(null);async function y(e){try{var t;let n,s,l={name:e??(null==(t=m[x])?void 0:t.name)??"Default",image:null,widgets:structuredClone(d),pinned:!1};null==e?((n=[...m])[x]=l,s=x):(n=[...m,l],s=m.length),localStorage.setItem("templates",JSON.stringify(n)),localStorage.setItem("activeTemplate",JSON.stringify(s)),m=n,x=s,g(m),null!=e&&v(x);try{let e=await (0,es.$E)(w.current,{canvasWidth:240,canvasHeight:135});n[s].image=e,m=n,localStorage.setItem("templates",JSON.stringify(m)),g([...m])}catch(e){console.warn("Screenshot failed, but template was saved:",e)}}catch(e){console.error("Error in saveTemplate:",e)}}return((0,a.useEffect)(()=>{let e,t;e=JSON.parse(localStorage.getItem("templates"))??[],t=JSON.parse(localStorage.getItem("activeTemplate"))??0,0===e.length&&e.push({name:"Default",image:null,widgets:structuredClone(eh),pinned:!1}),m=e,x=t,g(m),v(x),u(d=e[t].widgets);let n=localStorage.getItem("theme_blurAmount");null!==n&&document.documentElement.style.setProperty("--blur-amount",`${n}px`);let s=localStorage.getItem("theme_font");s&&""!==s&&document.documentElement.style.setProperty("--app-font",s),"true"===localStorage.getItem("theme_lightMode")?b("light"):b("dark")},[]),f)?(0,l.jsx)(eu,{onContinue:()=>{S(!1),localStorage.setItem("theme_setup_completed","true");let e=localStorage.getItem("theme_blurAmount");null!==e&&document.documentElement.style.setProperty("--blur-amount",`${e}px`),"true"===localStorage.getItem("theme_lightMode")?b("light"):b("dark")}}):(0,l.jsx)("div",{className:`${j} ${"light"===N?"lightMode":""}`,onClick:e=>{e.target===e.currentTarget&&(c(!1),r(!1))},children:(0,l.jsxs)(em.Provider,{value:{widgets:d,templates:m,activeTemplate:x,editing:e,deleting:n,hidden:i,menuOpen:o,theme:N,setWidgets:u,setTemplates:g,setEditing:t,setDeleting:s,setHidden:r,setMenuOpen:c,setTheme:b,saveTemplate:y,loadTemplate:function(e){let t=e??x;t>=m.length||(d=structuredClone(m[t].widgets),x=t,u(d),v(x),localStorage.setItem("activeTemplate",JSON.stringify(t)))},addWidget:function(e){if(!Object.keys(P).includes(e))return void console.error("Invalid widget type");let t={id:(0,en.Ak)(6),type:e,size:{...P[e].size},position:{gridX:0,gridY:0},settings:{...P[e].settings}};return u([...d,t]),t},removeWidget:function(e){u(d.filter(t=>t.id!==e))}},children:[(0,l.jsx)($,{}),(0,l.jsx)(h,{width:24,height:12,ref:w,children:d.map(e=>{let t=P[e.type];if(!t)return null;let n=t.component;return(0,l.jsx)(p,{size:e.size||t.size,position:e.position,resizeable:t.resizable,id:e.id,children:(0,l.jsx)(n,{...e})},e.id)})}),(0,l.jsx)(ee,{active:o})]})})},{})]}))}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return l[e].call(n.exports,n,n.exports,i),n.exports}i.m=l,i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=[],i.O=(t,n,s,l)=>{if(n){l=l||0;for(var a=e.length;a>0&&e[a-1][2]>l;a--)e[a]=e[a-1];e[a]=[n,s,l];return}for(var r=1/0,a=0;a<e.length;a++){for(var[n,s,l]=e[a],o=!0,c=0;c<n.length;c++)(!1&l||r>=l)&&Object.keys(i.O).every(e=>i.O[e](n[c]))?n.splice(c--,1):(o=!1,l<r&&(r=l));if(o){e.splice(a--,1);var d=s();void 0!==d&&(t=d)}}return t},t={410:0},i.O.j=e=>0===t[e],n=(e,n)=>{var s,l,[a,r,o]=n,c=0;if(a.some(e=>0!==t[e])){for(s in r)i.o(r,s)&&(i.m[s]=r[s]);if(o)var d=o(i)}for(e&&e(n);c<a.length;c++)l=a[c],i.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return i.O(d)},(s=self.webpackChunknewtabplus=self.webpackChunknewtabplus||[]).forEach(n.bind(null,0)),s.push=n.bind(null,s.push.bind(s));var r=i.O(void 0,["783","498"],function(){return i(887)});r=i.O(r)})();